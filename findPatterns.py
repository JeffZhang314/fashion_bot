import os
from json import load
import random
garments = [['206048344', 1, True], ['206048344', 2, False], ['206048344', 3, False], ['206048344', 4, False], ['206048344', 5, False], ['206048344', 6, False], ['206048344', 7, False], ['206048344', 8, False], ['215190681', 1, True], ['215190681', 2, True], ['215190681', 3, False], ['215190681', 4, True], ['215190681', 5, False], ['215190681', 6, False], ['215190681', 7, False], ['215190681', 8, False], ['168998949', 1, False], ['168998949', 2, True], ['168998949', 3, True], ['168998949', 4, True], ['168998949', 5, False], ['168998949', 6, False], ['168998949', 7, False], ['168998949', 8, False], ['204501590', 1, True], ['204501590', 2, True], ['204501590', 3, False], ['204501590', 4, False], ['210432216', 1, True], ['210432216', 2, True], ['210432216', 3, True], ['210432216', 4, False], ['210432216', 5, False], ['210432216', 6, False], ['210432216', 7, False], ['210432216', 8, False], ['158495691', 1, False], ['158495691', 2, False], ['158495691', 3, False], ['158495691', 4, False], ['158495691', 5, True], ['158495691', 6, True], ['158495691', 7, True], ['158495691', 8, False], ['216633460', 1, True], ['216633460', 2, False], ['216633460', 3, False], ['216633460', 4, False], ['216633460', 5, False], ['216633460', 6, False], ['216633460', 7, False], ['216633460', 8, False], ['216575975', 1, True], ['216575975', 2, False], ['216575975', 3, False], ['216575975', 4, False], ['216575975', 5, False], ['216199032', 1, True], ['216199032', 2, True], ['216199032', 3, False], ['216199032', 4, False], ['216199032', 5, False], ['216199032', 6, False], ['216199032', 7, False], ['216199032', 8, False], ['201678691', 1, True], ['201678691', 2, False], ['201678691', 3, False], ['201678691', 4, False], ['201678691', 5, False], ['166262413', 1, False], ['166262413', 2, False], ['166262413', 3, False], ['166262413', 4, False], ['166262413', 5, False], ['166262413', 6, False], ['169641320', 1, True], ['169641320', 2, True], ['169641320', 3, True], ['169641320', 4, True], ['169641320', 5, True], ['169641320', 6, True], ['169641320', 7, True], ['169641320', 8, True], ['205969693', 1, True], ['205969693', 2, False], ['205969693', 3, False], ['205969693', 4, False], ['205969693', 5, False], ['205969693', 6, False], ['205969693', 7, False], ['186917019', 1, True], ['186917019', 2, True], ['186917019', 3, True], ['186917019', 4, False], ['186917019', 6, False], ['155891250', 1, True], ['155891250', 2, True], ['155891250', 3, True], ['155891250', 4, False], ['155891250', 5, False], ['155891250', 6, False], ['155891250', 7, False], ['207052190', 1, True], ['207052190', 2, True], ['207052190', 3, False], ['207052190', 4, False], ['207052190', 5, False], ['207052190', 6, False], ['214836728', 1, True], ['214836728', 2, False], ['214836728', 3, True], ['214836728', 4, False], ['194205742', 1, True], ['194205742', 2, False], ['194205742', 3, False], ['194205742', 4, False], ['194205742', 5, False], ['141383462', 1, True], ['141383462', 2, True], ['141383462', 3, False], ['141383462', 4, False], ['141383462', 5, False], ['195358677', 1, True], ['195358677', 2, True], ['195358677', 3, True], ['195358677', 4, False], ['195358677', 5, False], ['195358677', 6, False], ['195358677', 7, False], ['195358677', 8, False], ['175156624', 1, True], ['175156624', 2, False], ['175156624', 3, False], ['175156624', 4, False], ['175156624', 5, False], ['175156624', 6, True], ['217014060', 1, True], ['217014060', 2, False], ['217014060', 3, False], ['217014060', 4, False], ['217014060', 5, False], ['217014060', 6, False], ['217014060', 7, False], ['208706164', 1, True], ['208706164', 2, True], ['208706164', 3, True], ['208706164', 4, False], ['208706164', 5, False], ['201704689', 1, True], ['201704689', 2, False], ['201704689', 3, False], ['201704689', 4, False], ['214959271', 1, False], ['214959271', 2, False], ['214959271', 3, False], ['214959271', 4, False], ['163116202', 1, True], ['163116202', 2, True], ['163116202', 3, False], ['163116202', 4, False], ['163116202', 5, False], ['163116202', 6, False], ['163116202', 7, False], ['207557804', 1, False], ['207557804', 2, True], ['207557804', 3, True], ['207557804', 4, True], ['207557804', 5, False], ['207557804', 6, False], ['214703617', 1, True], ['214703617', 2, False], ['214703617', 3, False], ['214703617', 4, False], ['214703617', 5, False], ['106579758', 1, True], ['106579758', 2, True], ['106579758', 3, False], ['106579758', 4, False], ['106579758', 5, False], ['106579758', 6, False], ['106579758', 7, False], ['106579758', 8, False], ['216889579', 1, True], ['216889579', 2, True], ['216889579', 3, False], ['216889579', 4, False], ['216889579', 5, False], ['216889579', 6, False], ['216889579', 7, False], ['216889579', 8, False], ['197706910', 1, True], ['197706910', 2, True], ['197706910', 3, False], ['197706910', 4, False], ['197706910', 5, False], ['197706910', 6, False], ['197706910', 7, False], ['216629945', 1, True], ['216629945', 2, False], ['216629945', 3, False], ['216629945', 4, False], ['216629945', 5, False], ['216629945', 6, False], ['201926823', 1, True], ['201926823', 2, False], ['201926823', 3, False], ['201926823', 4, False], ['201926823', 5, False], ['201926823', 6, False], ['201926823', 7, False], ['179909778', 1, True], ['179909778', 2, True], ['179909778', 3, False], ['179909778', 4, False], ['216687383', 1, False], ['216687383', 2, False], ['216687383', 3, False], ['216687383', 4, False], ['216687383', 5, False], ['216687383', 6, False], ['216687383', 7, False], ['216060624', 1, True], ['216060624', 2, True], ['216060624', 3, True], ['216060624', 4, False], ['216060624', 5, False], ['216060624', 6, False], ['216060624', 7, False], ['216659253', 1, True], ['216659253', 2, True], ['216659253', 3, False], ['216659253', 4, False], ['216659253', 5, False], ['216659253', 6, False], ['216659253', 7, False], ['216659253', 8, False], ['215646934', 1, False], ['215646934', 2, False], ['215646934', 3, False], ['215646934', 5, True], ['215646934', 6, True], ['215646934', 7, False], ['215646934', 8, False], ['194080381', 1, True], ['194080381', 2, True], ['194080381', 3, False], ['194080381', 4, False], ['152610796', 1, False], ['152610796', 2, False], ['152610796', 3, True], ['152610796', 4, False], ['152610796', 5, False], ['152610796', 7, False], ['152610796', 8, True], ['216273684', 1, True], ['216273684', 2, True], ['216273684', 3, False], ['216273684', 4, False], ['216273684', 5, False], ['216273684', 6, False], ['196621602', 1, True], ['196621602', 2, True], ['196621602', 3, False], ['196621602', 4, False], ['196621602', 5, False], ['196621602', 6, False], ['196621602', 7, False], ['183977995', 1, True], ['183977995', 2, True], ['183977995', 3, True], ['183977995', 4, False], ['183977995', 5, False], ['183977995', 6, False], ['183977995', 7, False], ['183977995', 8, False], ['214607007', 1, True], ['214607007', 2, True], ['214607007', 3, True], ['214607007', 4, False], ['214607007', 5, False], ['214607007', 6, False], ['214607007', 7, False], ['216516330', 1, True], ['216516330', 2, True], ['216516330', 3, False], ['216516330', 4, False], ['216516330', 5, False], ['216516330', 6, False], ['216516330', 7, False], ['214257411', 1, False], ['214257411', 2, False], ['214257411', 3, False], ['214257411', 4, False], ['214257411', 5, False], ['214257411', 6, False], ['214257411', 7, False], ['195977059', 1, True], ['195977059', 2, True], ['195977059', 3, True], ['195977059', 4, False], ['195977059', 5, False], ['195977059', 6, False], ['195977059', 7, False], ['120640826', 1, True], ['120640826', 2, True], ['120640826', 3, True], ['120640826', 4, False], ['120640826', 5, False], ['210987253', 1, True], ['210987253', 2, True], ['210987253', 3, True], ['210987253', 4, False], ['210987253', 5, False], ['210987253', 6, False], ['216467177', 1, True], ['216467177', 2, True], ['216467177', 3, False], ['216467177', 4, False], ['216467177', 5, False], ['216467177', 6, False], ['216467177', 7, False], ['208511757', 1, True], ['208511757', 2, True], ['208511757', 3, False], ['208511757', 4, False], ['208511757', 5, False], ['208511757', 6, False], ['208511757', 7, False], ['208511757', 8, False], ['214532102', 1, False], ['214532102', 2, False], ['214532102', 3, False], ['214532102', 4, False], ['214532102', 5, False], ['214532102', 7, False], ['214532102', 8, False], ['216206958', 1, True], ['216206958', 2, False], ['216206958', 3, False], ['216206958', 4, False], ['216206958', 5, False], ['216206958', 6, False], ['216206958', 7, False], ['216206958', 8, False], ['215846022', 1, True], ['215846022', 2, True], ['215846022', 3, True], ['215846022', 4, False], ['215846022', 5, False], ['215846022', 6, False], ['215846022', 7, False], ['205935906', 1, True], ['205935906', 2, False], ['205935906', 3, False], ['205935906', 4, False], ['205935906', 5, False], ['205935906', 6, False], ['205935906', 7, False], ['205935906', 8, False], ['210636586', 1, True], ['210636586', 2, True], ['210636586', 3, False], ['210636586', 4, False], ['210636586', 5, False], ['206906867', 1, True], ['206906867', 2, True], ['206906867', 3, True], ['206906867', 4, False], ['206906867', 5, False], ['206906867', 6, False], ['206906867', 7, False], ['206906867', 8, False], ['214569690', 1, True], ['214569690', 2, True], ['214569690', 3, False], ['214569690', 4, False], ['208549473', 1, True], ['208549473', 2, False], ['208549473', 3, False], ['208549473', 4, False], ['208549473', 7, False], ['131511960', 1, True], ['131511960', 2, True], ['131511960', 3, True], ['131511960', 4, False], ['131511960', 5, False], ['131511960', 6, False], ['142830610', 1, True], ['142830610', 2, True], ['142830610', 3, False], ['142830610', 4, False], ['142830610', 5, False], ['142830610', 6, False], ['142830610', 7, False], ['181092191', 1, True], ['181092191', 2, True], ['181092191', 3, False], ['181092191', 4, False], ['181092191', 5, False], ['181092191', 6, False], ['181092191', 7, False], ['216445938', 1, True], ['216445938', 2, True], ['216445938', 3, False], ['216445938', 4, False], ['216445938', 5, False], ['216445938', 6, False], ['216445938', 7, False], ['216445938', 8, False], ['201856352', 1, True], ['201856352', 2, True], ['201856352', 3, False], ['201856352', 4, False], ['201856352', 5, False], ['140411520', 1, False], ['140411520', 2, False], ['140411520', 3, False], ['140411520', 4, False], ['140411520', 5, False], ['140411520', 6, False], ['140411520', 7, True], ['140411520', 8, False], ['121326042', 1, True], ['121326042', 2, True], ['121326042', 3, False], ['121326042', 4, False], ['121326042', 5, False], ['121326042', 6, False], ['121326042', 7, False], ['134024623', 1, True], ['134024623', 2, True], ['134024623', 3, True], ['134024623', 4, False], ['134024623', 5, False], ['134024623', 6, False], ['134024623', 7, False], ['134024623', 8, False], ['212141382', 1, True], ['212141382', 2, True], ['212141382', 3, False], ['212141382', 4, False], ['212141382', 5, False], ['212141382', 6, False], ['212141382', 7, False], ['212141382', 8, False], ['214497680', 1, True], ['214497680', 2, True], ['214497680', 3, False], ['214497680', 4, False], ['214497680', 5, False], ['193965914', 1, True], ['193965914', 2, True], ['193965914', 3, False], ['193965914', 4, False], ['193965914', 5, False], ['193965914', 6, False], ['193965914', 7, False], ['193965914', 8, False], ['214381891', 1, True], ['214381891', 2, True], ['214381891', 3, False], ['214381891', 4, False], ['214381891', 5, False], ['214381891', 6, False], ['215130767', 1, True], ['215130767', 2, True], ['215130767', 3, False], ['215130767', 4, False], ['215130767', 5, False], ['215130767', 6, False], ['215130767', 7, False], ['215130767', 8, False], ['214523530', 1, True], ['214523530', 2, True], ['214523530', 3, True], ['214523530', 4, False], ['214523530', 5, False], ['215300304', 1, True], ['215300304', 2, True], ['215300304', 3, True], ['215300304', 4, False], ['215300304', 5, False], ['199178379', 1, True], ['199178379', 2, False], ['199178379', 3, False], ['199178379', 4, False], ['156864623', 1, False], ['156864623', 2, False], ['156864623', 3, False], ['156864623', 4, False], ['156864623', 6, True], ['156864623', 7, False], ['212253446', 1, True], ['212253446', 2, False], ['212253446', 3, False], ['212253446', 4, False], ['212253446', 5, False], ['212253446', 6, False], ['212253446', 7, False], ['212253446', 8, False], ['205087270', 1, True], ['205087270', 2, True], ['205087270', 3, False], ['205087270', 4, False], ['205087270', 5, False], ['205087270', 6, False], ['205087270', 7, False], ['205087270', 8, False]]
goodGarments = []
badGarments = []
for i in garments:
    if i[2]:
        goodGarments.append([i[0], i[1]])
    else:
        badGarments.append([i[0], i[1]])

f = open(os.path.abspath(__file__)[:-len("findPatterns.py")] + "train_no_dup.json",)
data = load(f)
f.close()
random.Random(0).shuffle(data)

condSatisfied = 0
condUnsatisfied = 0
good_category_ids = set()
bad_category_ids = set()

for i in goodGarments:
    for j in data:
        if (j["set_id"] == i[0]):
            for k in j["items"]:
                if (k["index"] == i[1]):
                    good_category_ids.add(k["categoryid"])

for i in badGarments:
    for j in data:
        if (j["set_id"] == i[0]):
            for k in j["items"]:
                if (k["index"] == i[1]):
                    bad_category_ids.add(k["categoryid"])

print("good")
print(good_category_ids)
print("bad")
print(bad_category_ids)
print("intersection")
print(good_category_ids.intersection(bad_category_ids))

#empty name -> bad